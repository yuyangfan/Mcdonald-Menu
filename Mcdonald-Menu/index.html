<!DOCTYPE HTML>
<html>
<head>

	<title>Nutritution Facts for Mcdonald's Menu</title>
	 <meta name="author" content="Yuyang Fan yf274, Siyi Chen sc2778, Zhihan Wang, zw429">
  	<meta name="description" content="Project 2 for INFO 5100/CS3300">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link href="https://fonts.googleapis.com/css?family=Alegreya|Alegreya+Sans" rel="stylesheet">

	<script src="https://d3js.org/d3.v4.min.js"></script>
	<script src="http://d3js.org/topojson.v2.min.js"></script>


	<link href="css/main.css" rel="stylesheet" type="text/css">


<link href="css/skeleton.css" rel="stylesheet" type="text/css">

	<link rel="shortcut icon" type="image/x-icon" href="img/mcdonald.jpg" />
   
</head>

<body>
	
	<!--Wrapper-->
	<div id="wrapper">
		
		
		<!--head teaser-->
		<div class="profileTeaser mainHeader">
			
			<!--teaser-->
			<div class="teaser">
				
				

        		<div class="layer"></div>

				<div class="caption">
					
					
					<svg class="" width="300px" height="270px" viewBox="0 0 271 237" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
					
					        <g id="McDonald's_Golden_Arches-(1)" fill-rule="nonzero" fill="#FFC300">
					            <path class="path"  stroke="#D52B1E" stroke-width="5" stroke-miterlimit="15" d="M194.5,16.8 C217.8,16.8 236.7,115.1 236.7,236.5 L270.7,236.5 C270.7,105.8 236.4,0 194.4,0 C170.4,0 149.2,31.7 135.2,81.5 C121.2,31.7 100,0 76.2,0 C34.2,0 0,105.7 0,236.4 L34,236.4 C34,115 52.7,16.8 76,16.8 C99.3,16.8 118.2,107.6 118.2,219.6 L152,219.6 C152,107.6 171,16.8 194.3,16.8" id="Shape"></path>
					        </g>
					   
					</svg>
				<!-- 	<svg width="320px" height="100px" viewBox="0 0 320 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    
					    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
					        <polygon id="Polygon" fill="#D52B1E" points="154.377834 7.76218312e-14 320 0 303.497758 100 16.5022422 100 0 1.52655666e-14">i'm lovin' it</polygon>
					    </g>
					</svg> -->

					<div class="head-pic">i'm learnin' it!</div>
				
					

				</div>
				

			</div>
			<!--End teaser-->
		</div>
		<!--End head teaser-->


		
		<section id="menu">		
			<div class="tholder ">

				<div class="bigTitle tCenter">	
					<h1 style="color:white; font-size:28px; font-family:Avenir Next !important; font-weight:bold ">Choose a Menu</h1>
				</div>
							
			</div>
			
				<!--Container-->
				<div class="container">

						<!--  list -->
						<div class="">
							
					<ul class="tCenter">


					<li class="item one-fourth column " >
						<div class="itemDesc">

							<div class="itemDescInner">
							<div class="click" data_id="0">
								<a href="#nutrition" class="menu-name scroll">Big Mac</a>
							</div>
							</div>
							
						</div>
							<img src="img/bigmac.png" alt="" class="menu-pic">
							<h2 class="menu-name2">Big Mac</h2>
					</li>

					<li class="item one-fourth column " >
						<div class="itemDesc">

							<div class="itemDescInner">
							<div class="click" data_id="1">
							<a href="#nutrition" class="menu-name scroll" >Quarter Pounder with Cheese</a>
							</div>
							</div>
							
						</div>
							<img src="img/quarterpounder.png" alt="" class="menu-pic">
							<h2 class="menu-name2">Quarter Pounder with Cheese</h2>
					</li>

					<li class="item one-fourth column " >
						<div class="itemDesc">

							<div class="itemDescInner">
							<div class="click" data_id="2">
							<a href="#nutrition" class="menu-name scroll" >Double Quarter* Pounder with Cheese</a>
							</div>
							</div>
						
						</div>
							<img src="img/doubleqp.png" alt="" class="menu-pic">
							<h2 class="menu-name2">Double Quarter* Pounder with Cheese</h2>
					</li>

					<li class="item one-fourth column " >
						<div class="itemDesc">

							<div class="itemDescInner">
							<div class="click" data_id="3">
							<a href="#nutrition" class="menu-name scroll">Premium Buttermilk Crispy Chicken Sandwich</a>
							</div>
							</div>
						</div>
							<img src="img/pbcc.png" alt="" class="menu-pic">
							<h2 class="menu-name2"> Buttermilk Crispy Chicken Sandwich</h2>
					</li>

					<li class="item one-fourth column " >
						<div class="itemDesc">

							<div class="itemDescInner">
							<div class="click" data_id="4">
							<a href="#nutrition" class="menu-name scroll">Artisan Grilled Chicken Sandwich</a>
							</div>
							</div>
							
						</div>
							<img src="img/agcs.png" alt="" class="menu-pic">
							<h2 class="menu-name2">Artisan Grilled Chicken Sandwich</h2>
					</li>

					<li class="item one-fourth column " >
						<div class="itemDesc">

							<div class="itemDescInner">
							<div class="click" data_id="5">
							<a href="#nutrition" class="menu-name scroll">Chicken McNuggets </a>
							</div>
							</div>
							
						</div>
							<img src="img/mcnugget.png" alt="" class="menu-pic">
							<h2 class="menu-name2">Chicken McNuggets (10 piece)</h2>
					</li>

					<li class="item one-fourth column " >
						<div class="itemDesc">

							<div class="itemDescInner">
							<div class="click" data_id="6">
							<a href="#nutrition" class="menu-name scroll">Filet-O-Fish</a>
							</div>
							</div>
							
						</div>
							<img src="img/filetofish.png" alt="" class="menu-pic">
							<h2 class="menu-name2">Filet-O-Fish</h2>
					</li>
				
		
					</ul>
					
					
					</div>
					<!-- End  list -->
					
					</div>
					<!--End container-->

			</section>


			<section class="clearfix margin-top" id="nutrition">	
		
                   
                <div class="tholder">
                    <div class="center" style="margin-bottom:40px; padding-bottom:30px">
                    
					 <a href="#menu" class="scroll" role="button">
					 <h1 style="color:white; font-size:28px; font-family:Avenir Next !important; font-weight:bold"> ↑ Click me back to Menu ↑</h1></a>

				</div>
				</div>    
                

					<div class="bigTitle tCenter">	
<!--						<h1 style="font-size:30px; ">- Check Facts -</h1>-->
                      <img src="img/mcicon.png">  
                        
					</div>
				
                
         

			<div class="container">
				
                
                <div class="group-left">
                <div class="GraphOne">
				<fieldset>
				  <legend class="g1"></legend>
				  <p id="graph1"></p>
				 </fieldset>
				</div>
		     
                <div class="GraphThree">
				<fieldset>
				  <legend class="g3"></legend>
				  <p id="graph3"></p>
		 </fieldset>			
				</div>
                </div>
                 
                
                <div class="centerbox"><img src="img/nav2.png"></div>
                
                
                
                
                <div class="group-right">
			    <div class="GraphTwo">
				<fieldset>
				  <legend class="g2"></legend>
				  <p id="graph2"></p>
				 </fieldset>			
				</div>

				<div class="GraphFour">
				<fieldset>
				  <legend></legend>
				  <p class="leftAlign">
					  <label for="nWidth" 
					         style="">
					         
					  </label><br>
					   <input type="range" min="36" max="60" id="nWidth" step="4">
					</p>

					<p id="littleman-graph"></p>
				 </fieldset>
							
				</div>
                </div>
				<!-- 580 x 430 -->
				
			</div>

			<!-- visualization goes here -->



			</section>

			

	</div>
	<!--End wrapper-->


	<!--Javascript-->
	<!-- script for creating little fat man -->
 <script type="text/javascript"> 

	// Creating canvas
	var width = 580;
	var height = 430;


	var holder = d3.select("#littleman-graph")
	      .append("svg")
	      .attr("width", width)    
	      .attr("height", height); 
   
    holder.append("text")
    .attr("class", "text1")
    .attr("id","nText")
    .attr("x", 80)
    .attr("y", 180)
    .style("font-size", "64px")

    .style("fill","#FFCD00")
    .text("0");   

     holder.append("text")
    .attr("class", "text1")
    .attr("x", 140)
    .attr("y", 180)
    .style("font-size", "20px")

    .style("fill","#FFCD00")
    .text("month(s)");   

    //title 
     holder.append("text")
    .attr("class", "text1")
    .attr("x", 20)
    .attr("y", 280)
    .style("font-size", "64px")
    .style("fill","#FFCD00")
    .text("Control");   
     
    holder.append("text")
    .attr("class", "text1")
    .attr("x", 28)
    .attr("y", 330)
    .style("font-size", "48px")
    .style("fill","#FFCD00")
    .text("Yourself"); 
    
     //subtitle
    holder.append("text")
    .attr("class", "text2")
    .attr("x", 35)
    .attr("y", 40)
    .style("font-size", "19px")
    .style("fill","#FFCD00")
    .text("Interactive Inspector");
     
    holder.append("text")
    .attr("class", "text3")
    .attr("x", 128)
    .attr("y", 65)
    .style("font-size", "15px")
    .style("fill","#FFCD00")
    .style("text-anchor","middle")
    .text("How many months have you")
    .append("tspan")
    .attr("x", 128)
    .attr("dy",20)
    .text("been eating McDonald's?");
     
     
     

	var g = holder.append("g")
		.attr("transform", "translate(240,50)");

	var mcdMan=g
	  .append("image")
	  .attr('xlink:href','img/mcd.png')
	  .attr("height",'270')
	  .attr('width','180')
	  .attr('x','100')
	  .attr('y','0');

	// Body
	g.append("ellipse")
	  .attr("cx", 190)
	  .attr("cy", 196)
	  .attr("rx", 36)
	  .attr("ry", 51)
	  .style("fill", "#ffc300")
	  .style("stroke", "#ffc300")
	  .style("stroke-width","1");

	// read a change in the width input
	d3.select("#nWidth").on("input", function() {
	  updateWidth(+this.value);
	  updateText(+this.value);
	});



	// update the values
	updateWidth(36);

	// Update the width attributes
	function updateWidth(nWidth) {

	// Adjust the text on the range slider
	  d3.select("#nWidth-value").text((nWidth/4)-9);
	  d3.select("#nWidth").property("value", nWidth);

	// Update the rectangle width
	  g.selectAll("ellipse")
	    .attr("rx", nWidth);
	}

	// Update the width attributes
	function updateText(nText) {

	// Adjust the text on the range slider
	  d3.select("#nText").text((nText/4)-9);
	  //d3.select("#nWidth").property("value", nWidth);

	// Update the rectangle width
	 
	}

 </script>


<!-- script for loading data -->
<script>
// Reading csv and saving all variables into arrays
var foodData;
var item = new Array();
var size = new Array();
var fat = new Array();
var carbs = new Array();
var protein = new Array();
var rest= new Array();
var donutData= new Array();
var donutPerc= new Array();
var eachBurn = new Array();
var eachCal = new Array();



var HumanData=
    [{"label":"Fat","category":"Avg. Adult Intake","value":23},
    {"label": "Protein","category":"Avg. Adult Intake","value":17},
    {"label": "Sodium", "category":"Avg. Adult Intake","value":0.8},
    {"label": "Fiber","category":"Avg. Adult Intake","value":10},
    {"label": "Sugar","category":"Avg. Adult Intake","value":30},]; 

var barData = new Array();



d3.csv("menu-1.csv", function(d) {
  foodData = d;
  
    foodData.forEach(function(d,i){
  	var inter = []
    eachCal.push(d.Calories)
    
    item.push(d.Item)
    size.push(d.Size)
    fat.push(d.Fat)
    carbs.push(d.Carbohydrates)
    protein.push(d.Protein)
    rest.push(d.Rest)
    inter.push ({category:d.Item,label:"Fat",value:d.Fat*1})
    inter.push ({category:d.Item,label:"Protein",value:d.Protein*1})
    inter.push ({category:d.Item,label:"Sodium",value:d.Sodium/1000})
    inter.push ({category:d.Item,label:"Fiber",value:d.Fiber*1})
    inter.push ({category:d.Item,label:"Sugar",value:d.Sugars*1})
    barData.push(inter)
    donutData.push([d.Fat,d.Carbohydrates,d.Protein,d.Rest])
    donutPerc.push([Math.round(d.Fat/d.Size*1000)/10,Math.round(d.Carbohydrates/d.Size*1000)/10,Math.round(d.Protein/d.Size*1000)/10,Math.round(d.Rest/d.Size*1000)/10]);

    //new input
    var inter2 = []
    inter2.push ({category:d.Item,label:"Running",value:Math.round(d.Calories*1/15*10)/10})
    inter2.push ({category:d.Item,label:"Jogging",value:Math.round(d.Calories*1/9*10)/10})
    inter2.push ({category:d.Item,label:"Swimming",value:Math.round(d.Calories*1/11*10)/10})
    inter2.push ({category:d.Item,label:"Cycling",value:Math.round(d.Calories*1/11*10)/10})
    inter2.push ({category:d.Item,label:"Jumprope",value:Math.round(d.Calories*1/12*10)/10})
    inter2.push ({category:d.Item,label:"Stair-climbing",value:Math.round(d.Calories*1/11*10)/10})
    eachBurn.push(inter2)
  });
    
     plotDountpie(donutData, donutPerc, 0);
     PlotBarOne(barData,HumanData,0);
     PlotBarTwo(eachBurn,eachCal,0);
});    
    
var data =donutData;
var label = ["Fats","Carbs","Proteins","Others"];
var percentage = donutPerc;
    

//script for donut chart
    
function plotDountpie(data, percentage, Arrayindex){ 

var width = 580,
    height = 430;

var outerRadius = height / 2 - 20,
    innerRadius = outerRadius / 3,
    cornerRadius = 10;
var color = d3.scaleOrdinal(d3.schemeCategory10);    
    
var pie = d3.pie()
    .padAngle(.03)
    .sort(null);

var arc = d3.arc()
    .padRadius(outerRadius)
    .innerRadius(innerRadius)
    .cornerRadius(8);

var svg = d3.select("#graph3").append("svg")
    .attr("width", width)
    .attr("height", height)
    .attr("class", "removable")
    .append("g")
  
var g2 = svg.append("g")
		.attr("transform", "translate(290, 280)");  
    
  svg.append("text")
    .attr("class", "text1")
    .attr("x", 270)
    .attr("y", 90)
    .style("font-size", "48px")
    .style("fill","#EE1E1E")
    .text("Components");   
     
    svg.append("text")
    .attr("class", "text2")
    .attr("x", 10)
    .attr("y", 40)
    .style("font-size", "19px")
    .style("fill","#EE1E1E")
    .text("Nutrition Knowledge");
    
    svg.append("text")
    .attr("class", "text3")
    .attr("x", 105)
    .attr("y", 65)
    .style("font-size", "15px")
    .style("fill","#EE1E1E")
    .style("text-anchor","middle")
    .text("What kind of nutrition in")
    .append("tspan")
    .attr("x", 105)
    .attr("dy",20)
    .text("this meal at 1 serving?");
    
    svg.append("circle")
        .attr("cx",450)
        .attr("cy",150)
        .attr("r",10)
        .style("fill", "#2CA02C");
    
       svg.append("text")
        .attr("class", "text3")
        .attr("x",470)
        .attr("y",156)
        .style("fill","#2CA02C")
       .style("font-size", "15px")
       .style("font-weight", "bold")
       .text("Proteins"); 
    

        svg.append("circle")
        .attr("cx",450)
        .attr("cy",180)
        .attr("r",10)
        .style("fill","#F97C2A");
     
      svg.append("text")
        .attr("class", "text3")
        .attr("x",470)
        .attr("y",186)
        .style("fill","#F97C2A")
       .style("font-size", "15px")
        .style("font-weight", "bold")
       .text("Carbohydrates"); 
    
    
        svg.append("circle")
        .attr("cx",450)
        .attr("cy",210)
        .attr("r",10)
        .style("fill","#1F77B4");
      
      svg.append("text")
        .attr("class", "text3")
        .attr("x",470)
        .attr("y",216)
        .style("fill","#1F77B4")
       .style("font-size", "15px")
        .style("font-weight", "bold")
       .text("Fats"); 
    
    
        svg.append("circle")
        .attr("cx",450)
        .attr("cy",240)
        .attr("r",10)
        .style("fill","#D62728");
     
     svg.append("text")
        .attr("class", "text3")
        .attr("x",470)
        .attr("y",246)
        .style("fill","#D62728")
       .style("font-size", "15px")
        .style("font-weight", "bold")
       .text("Others"); 
    
       svg.append("line")
        .attr("x1",30)
        .attr("y1",246)
        .attr("x2",180)
        .attr("y2",246)
        .attr("stroke", "#D62728"); 
     
    svg.append("text")
        .attr("class", "text3")
        .attr("x",30)
        .attr("y",245)
        .style("fill","#D62728")
       .style("font-size", "15px")
        .style("font-weight", "bold")
       .text("Others includes:")
       .append("tspan")
      .attr("x", 30)
      .attr("dy",20)
      .text("Water")
      .append("tspan")
    .attr("x",30)
    .attr("dy",20)
    .text("Minerals")
    .append("tspan")
    .attr("x",30)
    .attr("dy",20)
    .text("Vitamins");
    

g2.selectAll("path")
    .data(pie(data[Arrayindex]))
    .enter().append("path")
    .each(function(d) { d.outerRadius = outerRadius - 20; })
    .attr("d", arc)
    .style("fill",function(d,i){return color(i);})
    .attr("transform", "scale(0.7)")
    .on("mouseover",handleMouseOver)
    .on("mouseout", handleMouseOut);
    
   
	    
	function handleMouseOver(d,i){
	   
	      g2.append("text")
	            .attr("dy", "20")
	            .style("text-anchor", "middle")
	            .style("font-size", 15)
	            .attr("class","label")
	            .style("fill", "#EE1E1E")
           .transition()
	            .text(label[i]);
	      
	        g2.append("text")
	            .attr("dy", ".1000em")
	            .attr("transform", "translate(0,-25),scale(0.7)")
	            .transition()
	            .style("text-anchor", "middle")
	            .style("font-size", 20)
	            .attr("class","label")
                .attr("transform", "translate(0,2)")
	            .style("fill", "#EE1E1E")
	            .text(percentage[Arrayindex][i]+"%");
	    
	      d3.select(this).transition().delay(0).attrTween("d", function(d) {
	      var i = d3.interpolate(d.outerRadius, outerRadius);
	      return function(t) { d.outerRadius = i(t); return arc(d); };
	    });
	}    
	    
	 
	function handleMouseOut(d,i){
	    g2.selectAll(".label").remove();
	    
	     d3.select(this).transition().delay(150).attrTween("d", function(d) {
	      var i = d3.interpolate(d.outerRadius, outerRadius-20);
	      return function(t) { d.outerRadius = i(t); return arc(d); };
	    });
	}
};
  
//click event for multiple menu    

var clicks = document.querySelectorAll(".click").forEach(function (el) {
    el.addEventListener("click", clickHandle);
});


function clickHandle (e) {
    if (donutData.length > 0) {
        d3.selectAll("svg.removable").remove();
        var id = this.getAttribute("data_id");
        plotDountpie(donutData, donutPerc, id);
        PlotBarOne(barData,HumanData,id);
     	PlotBarTwo(eachBurn,eachCal,id);
    }
    else {
     console.warn("Data has not yet loaded");   
    }
}

</script>

<!-- script for the first bar -->
<script type="text/javascript">

    
    
function PlotBarOne(data1,data2,ArrayIndex){    

    NestedData=barData[ArrayIndex];


    var svg2 = d3.select("#graph1").append("svg").attr("width", 580)
    .attr("height", 420)
    .attr("class", "removable")
    .append("g")

    margin = {top: 20, right: 20, left: 50},
    width = 420- margin.left - margin.right,
    height = 420- margin.top;
  
var tooltip = d3.select("#graph1").append("div").attr("class", "toolTip");

var xExtent1= d3.extent(NestedData, function(d) {return d.value; });  
//console.log(xExtent1)

//var x2 = d3.scaleLinear().range([20, 400]);
var x2 = d3.scaleLinear().range([0, width]);
var y2 = d3.scaleBand().range([height, 0]);

var g = svg2.append("g")
		.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    
var xExtent2= d3.extent(HumanData, function(d) {return d.value; });  

var x = d3.scaleLinear().domain(xExtent2).range([0, width]);
var y = d3.scaleBand().range([height, 0]);
  
    
  svg2.append("text")
    .attr("class", "text1")
    .attr("x", 470)
    .attr("y", 300)
    .style("font-size", "64px")
    .style("fill","yellow")
    .text("Mc");
    
    svg2.append("text")
    .attr("class", "text1")
    .attr("x", 515)
    .attr("y", 345)
    .style("font-size", "45px")
    .style("fill","#FFCD00")
    .text("vs.");
    
     svg2.append("text")
    .attr("class", "text1")
    .attr("x", 450)
    .attr("y", 395)
    .style("font-size", "64px")
    .style("fill","red")
    .text("You");
    
     svg2.append("text")
    .attr("class", "text2")
    .attr("x", 410)
    .attr("y", 40)
    .style("font-size", "19px")
    .style("fill","#FFCD00")
    .text("Comparative Data");
    
    svg2.append("text")
    .attr("class", "text3")
    .attr("x", 493)
    .attr("y", 65)
    .style("font-size", "15px")
    .style("fill","#FFCD00")
    .style("text-anchor","middle")
    .text("How much ingredient")
    .append("tspan")
    .attr("x", 493)
    .attr("dy",20)
    .text("does it exceed your")
    .append("tspan")
    .attr("x", 493)
    .attr("dy",20)
    .text("average intake in")
    .append("tspan")
    .attr("x", 493)
    .attr("dy",20)
    .text("at 1 serving?");
    
    

    
    //first value of data, create a bar chart and a tooltip
    
    HumanData.forEach(function (d){
  
  	x2.domain([0, Math.max(d3.max(HumanData, function(d) { return d.value; }),d3.max(NestedData, function(d) { return d.value; }))]);
    y2.domain(HumanData.map(function(d) { return d.label; })).padding(0.1);  
      
    //   g.selectAll("line")
    //   .data(x.ticks(5))
    //   .enter().append("svg:line")
    //   .attr("x1", x)
    //   .attr("x2", x)
    //   .attr("y1", 0)
    //   .attr("y2", height)
    //   .attr("stroke", "#FFCD00")
    //   .attr("opacity",0.5);

    // g.selectAll("text.rule")
    //  .data(x.ticks(5))
    // .enter().append("svg:text")
    //   .attr("class", "rule")
    //   .attr("x", x)
    //   .attr("y", 0)
    //   .attr("dy", -3)
    //   .attr("text-anchor", "middle")
    //  .attr("fill", "#FFCD00")
    //   .text(String);
    
    // g.append("g")
    //     .attr("class", "y-axis")
    //     .call(d3.axisLeft(y2));
    
    // d3.selectAll(".tick > text")
        
    //     .attr("style","font-size:12.5px; fill:#FFCD00");
    
    // d3.selectAll(".tick > line")
    //     .style("display","none");
    
      
    g.selectAll(".bar2")
    .data(HumanData)
    .enter()
        .append("rect")
        .attr("class", "bar2")
        .attr("rx", 6)
        .attr("ry", 6)
        .attr("x", 0)
        .attr("height", y2.bandwidth())
        .attr("y", function(d) { return y2(d.label); })
        .attr("width", function(d) {return x2(d.value); })
        .on("mousemove", function(d){
            tooltip
              .style("left", d3.event.clientX - 50 + "px")
              .style("top", d3.event.clientY - 70 + "px")
              .style("display", "inline-block")
              .html((d.category) + "<br>" + (d.value) + "g");
        })
    		.on("mouseout", function(d){tooltip.style("display", "none");});

});
    NestedData.forEach(function (d){
  
  	x.domain([0, Math.max(d3.max(HumanData, function(d) { return d.value; }),d3.max(NestedData, function(d) { return d.value; }))]);
    y.domain(NestedData.map(function(d) {return d.label;})).padding(0.1);

 g.selectAll("line")
      .data(x.ticks(5))
      .enter().append("svg:line")
      .attr("x1", x)
      .attr("x2", x)
      .attr("y1", 0)
      .attr("y2", height)
      .attr("stroke", "#FFCD00")
      .attr("opacity",0.5);

    g.selectAll("text.rule")
     .data(x.ticks(5))
    .enter().append("svg:text")
      .attr("class", "rule")
      .attr("x", x)
      .attr("y", 0)
      .attr("dy", -3)
      .attr("text-anchor", "middle")
     .attr("fill", "#FFCD00")
      .text(String);
    
    g.append("g")
        .attr("class", "y-axis")
        .call(d3.axisLeft(y2));
    
    d3.selectAll(".tick > text")
        
        .attr("style","font-size:12.5px; fill:#FFCD00");
    
    d3.selectAll(".tick > line")
        .style("display","none");

      
    // g.selectAll("text")
    // .data(NestedData)
    // .enter()
    // .append("text")
    // .attr("class", "text1")
    // .attr("x", 520)
    // .attr("y", 220)
    // .style("font-size", "15px")
    // .style("fill","#FFCD00")
    // .style("text-anchor","end")
    // .text(function(d) {return d.category}); 

    g.selectAll(".bar")
    .data(NestedData)
    .enter()
        .append("rect")
        .attr("class", "bar")
        .attr("rx", 6)
        .attr("ry", 6)
        .attr("x", 0)
        .attr("height", y.bandwidth()/5*2)
        .attr("transform", "translate(0,20)")
        .attr("y", function(d) { return y(d.label); })
        .attr("width", function(d) {return x(d.value); })
        .on("mousemove", function(d){
            tooltip
              .style("left", d3.event.clientX - 50 + "px")
              .style("top", d3.event.clientY - 70 + "px")
              .style("display", "inline-block")
              .html((d.category) + "<br>" + (d.value) + "g");
        })
    		.on("mouseout", function(d){tooltip.style("display", "none");});
        
  
        
        
});
    
    
 //second data of bar chart       


        
};
    
    
</script>

<!-- script for excerise bar -->
<script type="text/javascript">
	        
        
        
function PlotBarTwo(data1,data2,ArrayIndex){

    
var NestedData=data1[ArrayIndex];
var CalData=data2[ArrayIndex];

var svg3 = d3.select("#graph2").append("svg").attr("width", 580)
    .attr("height", 420)
    .attr("class", "removable")
    .append("g"),
     
    margin = {top: 20, right: 25, left: 230},
    width = 580- margin.left - margin.right,
    height = 420- margin.top;

  
var x = d3.scaleLinear().range([0, width]);

var y = d3.scaleBand().range([height, 0]);

var g2 = svg3.append("g")
		.attr("transform", "translate(" + margin.left + "," + margin.top + ")");  
    
  
    svg3.append("text")
    .attr("class", "text1")
    .attr("x", 150)
    .attr("y", 150)
    .style("font-size", "25px")
    .style("fill","#FF5530")
    .text("Cal.");
    
    
    svg3.append("text")
    .attr("class", "text2")
    .attr("x", 10)
    .attr("y", 300)
    .style("font-size", "19px")
    .style("fill","#FF5530")
    .text("Exercise Equivalents");
    
    svg3.append("text")
    .attr("class", "text3")
    .attr("x", 103)
    .attr("y", 325)
    .style("font-size", "15px")
    .style("fill","#FF5530")
    .style("text-anchor","middle")
    .text("How much exercise does")
    .append("tspan")
    .attr("x", 103)
    .attr("dy",20)
    .text("it take to burn off")
    .append("tspan")
    .attr("x", 103)
    .attr("dy",20)
    .text("at 1 serving?")
    ;
    
    
   var running=svg3
    .append("image")
    .attr('xlink:href','img/running.png')
    .attr("height",'40')
    .attr('width','40')
   .attr('x','190')
   .attr('y','355')
    .transition()
    .duration(500)
    .delay(1000)
    .attr('x','540')
    .attr('y','355');;
    
    var jogging=svg3
    .append("image")
    .attr('xlink:href','img/jogging.png')
    .attr("height",'40')
    .attr('width','40')
   .attr('x','190')
   .attr('y','290')
    .transition()
    .duration(1200)
    .delay(1000)
    .attr('x','540')
    .attr('y','290');
    
    var swimming=svg3
    .append("image")
    .attr('xlink:href','img/swimming.png')
    .attr("height",'40')
    .attr('width','40')
   .attr('x','190')
   .attr('y','225')
    .transition()
    .duration(1000)
    .delay(1000)
    .attr('x','540')
    .attr('y','225');
    
    var cycling=svg3
    .append("image")
    .attr('xlink:href','img/cycling.png')
    .attr("height",'45')
    .attr('width','45')
    .attr('x','190')
    .attr('y','160')
    .transition()
    .duration(1000)
    .delay(1000)
    .attr('x','535')
    .attr('y','160');;
    
    var jumprope=svg3
    .append("image")
    .attr('xlink:href','img/jumprope.png')
    .attr("height",'45')
    .attr('width','45')
   .attr('x','190')
   .attr('y','90')
    .transition()
    .duration(850)
    .delay(1000)
    .attr('x','540')
    .attr('y','90');
    
    var stairclimb=svg3
    .append("image")
    .attr('xlink:href','img/stairclimb.png')
    .attr("height",'47')
    .attr('width','47')
   .attr('x','190')
   .attr('y','25')
    .transition()
    .duration(1000)
    .delay(1000)
    .attr('x','540')
    .attr('y','25');
 
    
    svg3.append("text")
    .attr("class", "text1")
    .attr("x", 5)
    .attr("y", 120)
    .style("font-size", "72px")
    .style("fill","#FF5530")
    .text(CalData);
    
    NestedData.forEach(function (d){
  
  	x.domain([0, d3.max(NestedData, function(d) { return d.value; })]);
    y.domain(NestedData.map(function(d) { return d.label; })).padding(0.1);    
      
    
        g2.selectAll("line")
      .data(x.ticks(5))
      .enter().append("svg:line")
      .attr("x1", x)
      .attr("x2", x)
      .attr("y1", 0)
      .attr("y2", height)
      .style("stroke", "#FF5530");

    g2.selectAll("text.rule")
     .data(x.ticks(5))
    .enter().append("svg:text")
      .attr("class", "rule")
      .attr("x", x)
      .attr("y", 0)
      .attr("dy", -3)
      .attr("text-anchor", "middle")
      .style("fill", "#FF5530")
      .text(String);
//
//    g2.append("g")
//        .attr("class", "y-axis")
//        .call(d3.axisLeft(y));
        

        
    g2.selectAll(".bar")
    .data(NestedData)
    .enter()
        .append("rect")
        .attr("class", "bar")
        .attr("rx", 18)
        .attr("ry", 18)
        .attr("x", 0)
        .attr("height", y.bandwidth()/2)
        .attr("y", function(d) { return y(d.label); })
        .attr("width", function(d) { return x(d.value); })
        .style("fill", "white")
        .attr("transform", "translate(0,10)");
        
          g2.selectAll(".text")
          .data(NestedData)
          .enter()
          .append("text")
            .attr("class", "label")
            //y position of the label is halfway down the bar
            .attr("y", function (d) {
                return y(d.label) + y.bandwidth()/2;
            })
            //x position is 3 pixels to the right of the bar
            .attr("x", function (d) {
                return x(d.value) ;
            })
            .text(function (d) {
                return d.value + " min";
            })
            .attr("transform", "translate(-80,0)")
            .style("fill","#FF5530");
   
    });
        
};
   


</script>
    
    
    

<script src="js/jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="js/jquery.flexslider-min.js" type="text/javascript"></script>
<script src="js/jquery.smooth-scroll.js" type="text/javascript"></script>
<script src="js/script.js" type="text/javascript"></script>
    </body>
</html>