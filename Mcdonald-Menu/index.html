<!DOCTYPE HTML>
<html>
<head>
	<title>Nutritution Facts for Mcdonald's Menu</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link href="https://fonts.googleapis.com/css?family=Alegreya|Alegreya+Sans" rel="stylesheet">

	<script src="https://d3js.org/d3.v4.min.js"></script>
	<script src="http://d3js.org/topojson.v2.min.js"></script>


	<link href="css/main.css" rel="stylesheet" type="text/css">


<link href="css/skeleton.css" rel="stylesheet" type="text/css">

	<link rel="shortcut icon" type="image/x-icon" href="img/mcdonald.jpg" />
   
</head>

<body>
	
	<!--Wrapper-->
	<div id="wrapper">
		
		
		<!--head teaser-->
		<div class="profileTeaser mainHeader">
			
			<!--teaser-->
			<div class="teaser">
				
				<img src="img/head2.png" class="head-bg" />

        		<div class="layer"></div>

				<div class="caption">
					
					
					<svg class="" width="300px" height="270px" viewBox="0 0 271 237" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
					
					        <g id="McDonald's_Golden_Arches-(1)" fill-rule="nonzero" fill="#FFC300">
					            <path class="path"  stroke="#f44842" stroke-width="5" stroke-miterlimit="15" d="M194.5,16.8 C217.8,16.8 236.7,115.1 236.7,236.5 L270.7,236.5 C270.7,105.8 236.4,0 194.4,0 C170.4,0 149.2,31.7 135.2,81.5 C121.2,31.7 100,0 76.2,0 C34.2,0 0,105.7 0,236.4 L34,236.4 C34,115 52.7,16.8 76,16.8 C99.3,16.8 118.2,107.6 118.2,219.6 L152,219.6 C152,107.6 171,16.8 194.3,16.8" id="Shape"></path>
					        </g>
					   
					</svg>
				<!-- 	<svg width="320px" height="100px" viewBox="0 0 320 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    
					    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
					        <polygon id="Polygon" fill="#D52B1E" points="154.377834 7.76218312e-14 320 0 303.497758 100 16.5022422 100 0 1.52655666e-14">i'm lovin' it</polygon>
					    </g>
					</svg> -->

					<div class="head-pic">i'm lovin' it!</div>
				
					

				</div>
				

			</div>
			<!--End teaser-->
		</div>
		<!--End head teaser-->


		
		<section id="menu">		
			<div class="tholder ">

				<div class="bigTitle tCenter">	
					<h1 style="font-size:30px; ">- Select a Menu -</h1>
				</div>
							
			</div>
			
				<!--Container-->
				<div class="container">

						<!--  list -->
						<div class="">
							
					<ul class="tCenter">


					<li class="item one-fourth column " >
						<div class="itemDesc">

							<div class="itemDescInner">
							<div class="click" data_id="0">
								<a href="#nutrition" class="menu-name scroll">Big Mac</a>
							</div>
							</div>
							
						</div>
							<img src="img/bigmac.png" alt="" class="menu-pic">
							<h2 class="menu-name2">Big Mac</h2>
					</li>

					<li class="item one-fourth column " >
						<div class="itemDesc">

							<div class="itemDescInner">
							<div class="click" data_id="1">
							<a href="#nutrition" class="menu-name scroll" >Quarter Pounder with Cheese</a>
							</div>
							</div>
							
						</div>
							<img src="img/quarterpounder.png" alt="" class="menu-pic">
							<h2 class="menu-name2">Quarter Pounder with Cheese</h2>
					</li>

					<li class="item one-fourth column " >
						<div class="itemDesc">

							<div class="itemDescInner">
							<div class="click" data_id="2">
							<a href="#nutrition" class="menu-name scroll" >Double Quarter* Pounder with Cheese</a>
							</div>
							</div>
							
						</div>
							<img src="img/doubleqp.png" alt="" class="menu-pic">
							<h2 class="menu-name2">Double Quarter* Pounder with Cheese</h2>
					</li>

					<li class="item one-fourth column " >
						<div class="itemDesc">

							<div class="itemDescInner">
							<div class="click" data_id="2">
							<a href="#nutrition" class="menu-name scroll">Premium Buttermilk Crispy Chicken Sandwich</a>
							</div>
							</div>
						</div>
							<img src="img/pbcc.png" alt="" class="menu-pic">
							<h2 class="menu-name2">Premium Buttermilk Crispy Chicken Sandwich</h2>
					</li>

					<li class="item one-fourth column " >
						<div class="itemDesc">

							<div class="itemDescInner">
							<div class="click" data_id="2">
							<a href="#nutrition" class="menu-name scroll">Artisan Grilled Chicken Sandwich</a>
							</div>
							</div>
							
						</div>
							<img src="img/agcs.png" alt="" class="menu-pic">
							<h2 class="menu-name2">Artisan Grilled Chicken Sandwich</h2>
					</li>

					<li class="item one-fourth column " >
						<div class="itemDesc">

							<div class="itemDescInner">
							<div class="click" data_id="2">
							<a href="#nutrition" class="menu-name scroll">Chicken McNuggets </a>
							</div>
							</div>
							
						</div>
							<img src="img/mcnugget.png" alt="" class="menu-pic">
							<h2 class="menu-name2">Chicken McNuggets (10 piece)</h2>
					</li>

					<li class="item one-fourth column " >
						<div class="itemDesc">

							<div class="itemDescInner">
							<div class="click" data_id="2">
							<a href="#nutrition" class="menu-name scroll">Filet-O-Fish</a>
							</div>
							</div>
							
						</div>
							<img src="img/filetofish.png" alt="" class="menu-pic">
							<h2 class="menu-name2">Filet-O-Fish</h2>
					</li>
				
		
					</ul>
					
					
					</div>
					<!-- End  list -->
					
					</div>
					<!--End container-->

			</section>


			<section class="clearfix margin-top" id="nutrition">	
		
				<div class="tholder ">

					<div class="bigTitle tCenter">	
						<h1 style="font-size:30px; ">- Check Facts -</h1>
					</div>
							
				</div>

			
			
				<div class="center">

					 <a href="#menu" class="scroll" role="button">Click me to try another Menu</a>


				</div>
				 
		

			<div class="container">
				<div class="one-half column">
				<fieldset>
				  <legend class="g1">Graph 1:</legend>
				  <p id="graph1"></p>
				 </fieldset>
							
				</div>



			<div class="one-half column">
				<fieldset >
				  <legend class="g2">Graph 2:</legend>
				  <p id="graph2"></p>
				 </fieldset>
							
				</div>

			<div class="one-half column">
				<fieldset >
				  <legend class="g3">What are the major components of this meal?</legend>
				  <p id="graph3"></p>
				  <div class="margin-top-minus">
					  <p class="tCenter bold">Carbohydrates include:  <span class="unbold"> Sugars, Starches, and Fiber</span></p>
					  <p class="tCenter bold" >Others include:  <span class="unbold"> Water, Minerals and Vitamins</span></p>
				  </div>
				 </fieldset>
							
				</div>

				<div class="one-half column">
				<fieldset>
				  <legend>Little Man:</legend>
				  <p class="tCenter">
					  <label for="nWidth" 
					         style="">
					         How many months have you been eating McDonald's? = <span id="nWidth-value">â€¦</span>
					  </label><br>
					  <input type="range" min="40" max="100" id="nWidth" step="10">
					</p>

					<p id="littleman-graph"></p>
				 </fieldset>
							
				</div>
				<!-- 620 x 336 -->
				
				<div>

				</div>

			</div>

			<!-- visualization goes here -->



			</section>

			

	</div>
	<!--End wrapper-->


	<!--Javascript-->
	<!-- script for creating little fat man -->
 <script type="text/javascript"> 

 </script>


<!-- script for donut chart -->
<script>
// Reading csv and saving all variables into arrays
var foodData;
var item = new Array();
var size = new Array();
var fat = new Array();
var carbs = new Array();
var protein = new Array();
var rest= new Array();
var donutData= new Array();
var donutPerc= new Array();
var eachBurn = new Array();

// var cateN = 5;
// var mealN = 9;
// var barDataN = {category:"",label:"Fat",value:};
// var barData = new Array();
// for (var i = 0; i < n; i++)
//     barData.push(barDataN);

var HumanData=
    [{"label":"Fat","category":"Avg. Adult Intake","value":23},
    {"label": "Protein","category":"Avg. Adult Intake","value":17},
    {"label": "Sodium", "category":"Avg. Adult Intake","value":0.8},
    {"label": "Fiber","category":"Avg. Adult Intake","value":10},
    {"label": "Sugar","category":"Avg. Adult Intake","value":30},]; 

var barData = new Array();



d3.csv("menu-1.csv", function(d) {
  foodData = d;
  foodData.forEach(function(d,i){
  	var inter = []
    item.push(d.Item)
    size.push(d.Size)
    fat.push(d.Fat)
    carbs.push(d.Carbohydrates)
    protein.push(d.Protein)
    rest.push(d.Rest)
    inter.push ({category:d.Item,label:"Fat",value:d.Fat*1})
    inter.push ({category:d.Item,label:"Protein",value:d.Protein*1})
    inter.push ({category:d.Item,label:"Sodium",value:d.Sodium/1000})
    inter.push ({category:d.Item,label:"Fiber",value:d.Fiber*1})
    inter.push ({category:d.Item,label:"Sugar",value:d.Sugars*1})
    barData.push(inter)
    donutData.push([d.Fat,d.Carbohydrates,d.Protein,d.Rest])
    donutPerc.push([Math.round(d.Fat/d.Size*1000)/10,Math.round(d.Carbohydrates/d.Size*1000)/10,Math.round(d.Protein/d.Size*1000)/10,Math.round(d.Rest/d.Size*1000)/10]);

    //new input
    var inter2 = []
    inter2.push ({category:d.Item,label:"Running",value:Math.round(d.Calories*1/15*10)/10})
    inter2.push ({category:d.Item,label:"Jogging",value:Math.round(d.Calories*1/9*10)/10})
    inter2.push ({category:d.Item,label:"Swimming",value:Math.round(d.Calories*1/11*10)/10})
    inter2.push ({category:d.Item,label:"Cycling",value:Math.round(d.Calories*1/11*10)/10})
    inter2.push ({category:d.Item,label:"Jumprope",value:Math.round(d.Calories*1/12*10)/10})
    inter2.push ({category:d.Item,label:"Stair-climbing",value:Math.round(d.Calories*1/11*10)/10})
    eachBurn.push(inter2)
    //till here
  });
    
     plotDountpie(donutData, donutPerc, 0);
     PlotBarOne(barData,HumanData,0);
     PlotBarTwo(eachBurn,0);
});    
    
var data =donutData;
var label = ["Fats","Carbohydrates","Proteins","Others"];
var percentage = donutPerc;
    
//var NestedData = new Array();
    
function plotDountpie(data, percentage, Arrayindex){ 

var width = 620,
    height = 336;

var outerRadius = height / 2 - 20,
    innerRadius = outerRadius / 3,
    cornerRadius = 10;
var color = d3.scaleOrdinal(d3.schemeCategory10);

var pie = d3.pie()
    .padAngle(.03)
//    .value(function(d,i) {return data[i].count;})
    .sort(null);

var arc = d3.arc()
    .padRadius(outerRadius)
    .innerRadius(innerRadius)
    .cornerRadius(8);

var svg = d3.select("#graph3").append("svg")
    .attr("width", width)
    .attr("height", height)
    .attr("class", "removable")
    .append("g")
    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

svg.selectAll("path")
//    console.log(Arrayindex)
//    console.log(donutData)
    
    .data(pie(data[Arrayindex]))
    .enter().append("path")
    .each(function(d) { d.outerRadius = outerRadius - 20; })
    .attr("d", arc)
//    .append("title")
//     .text(function(d){return d.value;})
    .style("fill",function(d,i){return color(i);})
    .style('stroke', '#FFFFFF')
    .on("mouseover",handleMouseOver)
    .on("mouseout", handleMouseOut);
    
   


    
    
	//plot legend     
	    
	function handleMouseOver(d,i){
	   
	      svg.append("text")
	            .attr("dy", ".9em")
	            .transition()
	            .style("text-anchor", "middle")
	            .style("font-size", 20)
	            .attr("class","label")
	            .style("fill", function(d,i){return "black";})

	//            .text(function(d,i){ return data[i].label;}); 
	            .text(label[i]);
	      
	        svg.append("text")
	            .attr("dy", ".1000em")
	            .attr("transform", "translate(0,-10)")
	            .transition()
	            .style("text-anchor", "middle")
	            .style("font-size", 20)
	            .attr("class","label")
	            .style("fill", function(d,i){return "black";})
	//            .append("title")
	//            .text(function(d,i){ return data[i].percentage;}); 
	            .text(percentage[Arrayindex][i]+"%");
	    
	      d3.select(this).transition().delay(0).attrTween("d", function(d) {
	      var i = d3.interpolate(d.outerRadius, outerRadius);
	      return function(t) { d.outerRadius = i(t); return arc(d); };
	    });
	}    
	    
	 
	function handleMouseOut(d,i){
	    svg.selectAll(".label").remove();
	    
	     d3.select(this).transition().delay(150).attrTween("d", function(d) {
	      var i = d3.interpolate(d.outerRadius, outerRadius-20);
	      return function(t) { d.outerRadius = i(t); return arc(d); };
	    });
	}
};
  

var clicks = document.querySelectorAll(".click").forEach(function (el) {
    el.addEventListener("click", clickHandle);
});


function clickHandle (e) {
    if (donutData.length > 0) {
        d3.selectAll("svg.removable").remove();
        var id = this.getAttribute("data_id");
        plotDountpie(donutData, donutPerc, id);
    }
    else {
     console.warn("Data has not yet loaded");   
    }
}

<!--</script>

<!-- script for the first bar -->
<script type="text/javascript">
	//var NestedData = new Array(); 
    
    
function PlotBarOne(data1,data2,ArrayIndex){    

    NestedData=barData[ArrayIndex];
//    console.log(NestedData);
    //var width2 = 610
    //var height2  = 326

    var svg2 = d3.select("#graph1").append("svg").attr("width", 610)
    .attr("height", 350)
    .attr("class", "removable")
    .append("g"),

    margin = {top: 20, right: 20, bottom: 30, left: 80},
    width = 610 - margin.left - margin.right,
    height = 350 - margin.top - margin.bottom;
  
var tooltip = d3.select("#graph1").append("div").attr("class", "toolTip");
 
var xExtent1= d3.extent(NestedData, function(d) {return d.value; });  
//console.log(xExtent1)

var x2 = d3.scaleLinear().range([0, width]);
var y2 = d3.scaleBand().range([height, 0]);

var g = svg2.append("g")
		.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    
var xExtent2= d3.extent(HumanData, function(d) {return d.value; });  

var x = d3.scaleLinear().domain(xExtent2).range([0, width]);
var y = d3.scaleBand().range([height, 0]);
  
    
    
  
    
    //first value of data, create a bar chart and a tooltip
    
    NestedData.forEach(function (d){
  
  	x.domain([0, Math.max(d3.max(HumanData, function(d) { return d.value; }),d3.max(NestedData, function(d) { return d.value; }))]);
    y.domain(NestedData.map(function(d) {return d.label;})).padding(0.1);


    g.selectAll(".bar")
    .data(NestedData)
    .enter()
        .append("rect")
        .attr("class", "bar")
        .attr("rx", 6)
        .attr("ry", 6)
        .attr("x", 0)
        .attr("height", y.bandwidth()/5*2)
        .attr("transform", "translate(0,15)")
        .attr("y", function(d) { return y(d.label); })
        .attr("width", function(d) {return x(d.value); })
        .on("mousemove", function(d){
            tooltip
              .style("left", d3.event.pageX - 50 + "px")
              .style("top", d3.event.pageY - 70 + "px")
              .style("display", "inline-block")
              .html((d.category) + "<br>"+ (d.value)+" g");
        })
    		.on("mouseout", function(d){tooltip.style("display", "none");});
});
    
    
 //second data of bar chart       

HumanData.forEach(function (d){
  
  	x2.domain([0, Math.max(d3.max(HumanData, function(d) { return d.value; }),d3.max(NestedData, function(d) { return d.value; }))]);
    y2.domain(HumanData.map(function(d) { return d.label; })).padding(0.1);  
      
      g.selectAll("line")
      .data(x.ticks(10))
      .enter().append("svg:line")
      .attr("x1", x)
      .attr("x2", x)
      .attr("y1", 0)
      .attr("y2", height)
      .attr("stroke", "#ccc");

    g.selectAll("text.rule")
     .data(x.ticks(10))
    .enter().append("svg:text")
      .attr("class", "rule")
      .attr("x", x)
      .attr("y", 0)
      .attr("dy", -3)
      .attr("text-anchor", "middle")
      .text(String);
    
     g.append("svg:line")
      .attr("y1", 0)
      .attr("y2",height)
      .attr("stroke", "#000");

    g.append("g")
        .attr("class", "y axis")
        .call(d3.axisLeft(y2));
      
      
    g.selectAll(".bar2")
    .data(HumanData)
    .enter()
        .append("rect")
        .attr("class", "bar2")
        .attr("rx", 6)
        .attr("ry", 6)
        .attr("x", 0)
        .attr("height", y2.bandwidth())
        .attr("y", function(d) { return y2(d.label); })
        .attr("width", function(d) {return x2(d.value); })
        .on("mousemove", function(d){
            tooltip
              .style("left", d3.event.pageX - 50 + "px")
              .style("top", d3.event.pageY - 70 + "px")
              .style("display", "inline-block")
              .html((d.category) + "<br>" + (d.value) + "g");
        })
    		.on("mouseout", function(d){tooltip.style("display", "none");});
});
        

};
    
</script>

<!-- script for excerise bar -->
<script type="text/javascript">
	        
        
        
function PlotBarTwo(data, ArrayIndex){

    
var NestedData=data[ArrayIndex];   

var svg3 = d3.select("#graph2").append("svg").attr("width", 620)
    .attr("height", 350)
    .attr("class", "removable")
    .append("g"),
    margin = {top: 20, right: 20, bottom: 30, left: 80},
    width = 620 - margin.left - margin.right,
    height = 350 - margin.top - margin.bottom;
  
var tooltip = d3.select("#graph2").append("div").attr("class", "toolTip");

var color = d3.scaleOrdinal().range(["#03A9F4","#2196F3", "#3F51B5","#FFEB3B","#FF9800","#F44336"]);
  
var x = d3.scaleLinear().range([0, width]);

var y = d3.scaleBand().range([height, 0]);

var g2 = svg3.append("g")
		.attr("transform", "translate(" + margin.left + "," + margin.top + ")");  
    
    //first value of data, create a bar chart and a tooltip
    
   var running=svg3
    .append("image")
    .attr('xlink:href','img/running.png')
    .attr("height",'40')
    .attr('width','40')
   .attr('x','100')
   .attr('y','270');
    
    var jogging=svg3
    .append("image")
    .attr('xlink:href','img/jogging.png')
    .attr("height",'40')
    .attr('width','40')
   .attr('x','100')
   .attr('y','220');
    
    var swimming=svg3
    .append("image")
    .attr('xlink:href','img/swimming.png')
    .attr("height",'40')
    .attr('width','40')
   .attr('x','100')
   .attr('y','170');
    
    var cycling=svg3
    .append("image")
    .attr('xlink:href','img/cycling.png')
    .attr("height",'40')
    .attr('width','40')
   .attr('x','100')
   .attr('y','120');
    
    var jumprope=svg3
    .append("image")
    .attr('xlink:href','img/jumprope.png')
    .attr("height",'40')
    .attr('width','40')
   .attr('x','100')
   .attr('y','80');
    
    var stairclimb=svg3
    .append("image")
    .attr('xlink:href','img/stairclimb.png')
    .attr("height",'47')
    .attr('width','47')
   .attr('x','100')
   .attr('y','25');
    
    NestedData.forEach(function (d){
  
  	x.domain([0, d3.max(NestedData, function(d) { return d.value; })]);
    y.domain(NestedData.map(function(d) { return d.label; })).padding(0.1);
	console.log(NestedData)
    
     g2.selectAll("line")
      .data(x.ticks(10))
      .enter().append("svg:line")
      .attr("x1", x)
      .attr("x2", x)
      .attr("y1", 0)
      .attr("y2", height)
      .attr("stroke", "#ccc");

    g2.selectAll("text.rule")
     .data(x.ticks(10))
    .enter().append("svg:text")
      .attr("class", "rule")
      .attr("x", x)
      .attr("y", 0)
      .attr("dy", -3)
      .attr("text-anchor", "middle")
      .text(String);
    
     g2.append("svg:line")
      .attr("y1", 0)
      .attr("y2",height)
      .attr("stroke", "#000");

    g2.append("g")
        .attr("class", "y axis")
        .call(d3.axisLeft(y));
        

    g2.selectAll(".bar")
    .data(NestedData)
    .enter()
        .append("rect")
        .attr("class", "bar")
        .attr("rx", 6)
        .attr("ry", 6)
        .attr("x", 0)
        .attr("height", y.bandwidth()/2)
        .attr("y", function(d) { return y(d.label); })
        .attr("width", function(d) { return x(d.value); })
        .style("fill",function(d,i){return color(i);})
        .attr("transform", "translate(0,10)");
        
          g2.selectAll(".text")
          .data(NestedData)
          .enter()
          .append("text")
            .attr("class", "label")
            //y position of the label is halfway down the bar
            .attr("y", function (d) {
                return y(d.label) + y.bandwidth()/2+8;
            })
            //x position is 3 pixels to the right of the bar
            .attr("x", function (d) {
                return x(d.value) ;
            })
            .text(function (d) {
                return d.value + " min";
            })
            .attr("transform", "translate(-80,-3)")
            .style("fill","white");
   
    });
        
};


</script>
    
    

<script src="js/jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="js/jquery.flexslider-min.js" type="text/javascript"></script>
<script src="js/jquery.smooth-scroll.js" type="text/javascript"></script>
<script src="js/script.js" type="text/javascript"></script>
    </body>
</html>